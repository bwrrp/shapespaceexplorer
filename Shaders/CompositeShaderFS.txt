uniform sampler2D meshBuffer;

void main()
{
	float step = 2.0 / 1024.0;
	vec2 tc = gl_TexCoord[0].xy;
	vec4 mb = texture2D(meshBuffer, tc);
	vec4 mbl = texture2D(meshBuffer, tc + vec2(step, 0.0));
	vec4 mbd = texture2D(meshBuffer, tc + vec2(0.0, step));
	vec4 color = mb;
	if (color.a != 0.0) color.a = 0.01;
	color.rgb *= color.a;
	if (mb.a != mbl.a || mb.a != mbd.a) color = vec4(0.0, 0.0, 0.0, 0.5);
	gl_FragColor = color;
}
